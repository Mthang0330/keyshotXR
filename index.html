<!--
  KeyShotXR
  (c) Copyright 2012-2017 Luxion ApS - All Rights Reserved.
-->

<!DOCTYPE html>
<html xmlns='http://www.w3.org/1999/xhtml'>
  <head>
    <style>
  /* Override cứng KeyShotXR size */
  #KeyShotXR {
    width: 100% !important;
    height: 100% !important;
  }

  /* Wrapper fix: giữ tỷ lệ để không bị height = 0 */
  body, html {
    height: 100%;
  }

  #KeyShotXR canvas {
    width: 100% !important;
    height: 100% !important;
    object-fit: contain;
  }
    </style>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge"/>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>KeyShotXR</title>
    <style type="text/css">
      body { -ms-touch-action: none; }
    </style>
    <script type="text/javascript" src="L5WHR225 (360 View).43/files/KeyShotXR.js"></script>
    <script type="text/javascript">
      var keyshotXR;
      
  var uCount, vCount, uStartIndex, vStartIndex, uWrap;
  var currentU = 0;
  var currentV = 0;
  var autoRotate = true;
  var autoRotateInterval = null;
      
      function initKeyShotXR() {
        var nameOfDiv = "KeyShotXR";
        var folderName = "L5WHR225 (360 View).43";
        var viewPortWidth = 800;
        var viewPortHeight = 800;
        var backgroundColor = "#ffffff";
        var uCount = 30;
        var vCount = 9;
        var uWrap = true;
        var vWrap = false;
        var uMouseSensitivity = -0.0833333;
        var vMouseSensitivity = 0.05625;
        var uStartIndex = 15;
        var vStartIndex = 7;
        var minZoom = 1;
        var maxZoom = 1;
        var rotationDamping = 0.96;
        var downScaleToBrowser = true;
        var addDownScaleGUIButton = false;
        var downloadOnInteraction = false;
        var imageExtension = "jpg";
        var showLoading = true;
        var loadingIcon = "ks_logo.png"; // Set to empty string for default icon.
        var allowFullscreen = true; // Double-click in desktop browsers for fullscreen.
        var uReverse = false;
        var vReverse = false;
        var hotspots = {};
        var isIBooksWidget = false;
              
        keyshotXR = new keyshotXR(nameOfDiv,folderName,viewPortWidth,viewPortHeight,backgroundColor,uCount,vCount,uWrap,vWrap,uMouseSensitivity,vMouseSensitivity,uStartIndex,vStartIndex,minZoom,maxZoom,rotationDamping,downScaleToBrowser,addDownScaleGUIButton,downloadOnInteraction,imageExtension,showLoading,loadingIcon,allowFullscreen,uReverse,vReverse,hotspots,isIBooksWidget);
      }

      // Bắt đầu auto-rotate ngay sau khi XR init xong
    startAutoRotate();
  }

  // Hàm tính linear frame
  function getFrame() {
    return currentU + currentV * uCount;
  }

  // Hàm auto-rotate
  function startAutoRotate() {
    if (autoRotateInterval) return; // tránh chạy nhiều lần

    currentU = uStartIndex || 0;
    currentV = vStartIndex || 0;

    autoRotateInterval = setInterval(function () {
      if (!autoRotate) return;
      if (!keyshotXR || typeof keyshotXR.setFrame !== "function") return;

      // Tăng frame ngang
      currentU++;
      if (currentU >= uCount) {
        currentU = uWrap ? 0 : uCount - 1;
      }

      // Gọi setFrame để hiển thị frame mới
      keyshotXR.setFrame(getFrame());
    }, 80);
  }

  // Dừng auto-rotate khi người dùng chạm
  document.addEventListener("pointerdown", function () { autoRotate = false; });
  document.addEventListener("touchstart", function () { autoRotate = false; });

      window.onload = initKeyShotXR;
    </script>
  </head>
  <body oncontextmenu="return false;">
    <div id="KeyShotXR"></div>
    </body>
</html>
